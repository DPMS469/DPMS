<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About</title>
    <link rel="icon" href="../images/pig.png">
    <link rel="stylesheet" href="../css/cards-character.css">
    <link rel="stylesheet" href="../css/template.css">
    <link rel="stylesheet" href="../css/battle.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <script src="../scripts/script-battle.js"></script>

</head>

<body>
    <header>
        <a href="../index.html"><img src="../images/logo-black.png" alt="Logo"></a>
        <a href="../pages/terminal.html" class="terminal-icon-link"><img src="../images/terminal-icon.png"
                alt="Terminal Icon" class="terminal-icon"></a>
        <p class="phrase">How time slips away with impetuous speed.</p>
        <nav>
            <ul>
                <li><a href="../pages/home.html">Home</a></li>
                <li><a href="../pages/about.html">About</a></li>
                <li><a href="#">Services</a></li>
                <li><a href="../pages/contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="card">
            <div class="card-image">
                <img src="../images/penguin.png" alt="Character">
            </div>

            <div class="card-body">
                <span class="power">Brilliant Power</span>
                <h2>Penguin</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Error laudantium sequi facere mollitia
                    saepe.
                </p>
            </div>

            <div class="card-footer">
                <div class="info">
                    <div class="value">7.0 m</div>
                    <div class="type">height</div>
                </div>
                <div class="info">
                    <div class="value">12.9 kg</div>
                    <div class="type">weight</div>
                </div>
                <div class="info">
                    <div class="value">4.8</div>
                    <div class="type">rating</div>
                </div>
            </div>

            <div class="selector">
                <button>go with this!</button>
            </div>

        </div>

        <div class="card">
            <div class="card-image">
                <img src="../images/pellican.png" alt="Character">
            </div>

            <div class="card-body">
                <span class="power">Brilliant Power</span>
                <h2>Pellican</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Error laudantium sequi facere mollitia
                    saepe.
                </p>
            </div>

            <div class="card-footer">
                <div class="info">
                    <div class="value">3.6 m</div>
                    <div class="type">height</div>
                </div>
                <div class="info">
                    <div class="value">32.9 kg</div>
                    <div class="type">weight</div>
                </div>
                <div class="info">
                    <div class="value">4.9</div>
                    <div class="type">rating</div>
                </div>
            </div>

            <div class="selector">
                <button>go with this!</button>
            </div>

        </div>

        <div class="card">
            <div class="card-image">
                <img src="../images/turtle.png" alt="Character">
            </div>

            <div class="card-body">
                <span class="power">Street Power</span>
                <h2>CEO</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Error laudantium sequi facere mollitia
                    saepe.
                </p>
            </div>

            <div class="card-footer">
                <div class="info">
                    <div class="value">1.90 m</div>
                    <div class="type">height</div>
                </div>
                <div class="info">
                    <div class="value">29.0 kg</div>
                    <div class="type">weight</div>
                </div>
                <div class="info">
                    <div class="value">5.0</div>
                    <div class="type">rating</div>
                </div>
            </div>
            <div class="selector">
                <button>go with this!</button>
            </div>

        </div>

        <div class="card">
            <div class="card-image">
                <img src="../images/ferret.png" alt="Character">
            </div>

            <div class="card-body">
                <span class="power">Knight Power</span>
                <h2>Ferret</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Error laudantium sequi facere mollitia
                    saepe.
                </p>
            </div>

            <div class="card-footer">
                <div class="info">
                    <div class="value">0.9 m</div>
                    <div class="type">height</div>
                </div>
                <div class="info">
                    <div class="value">10 kg</div>
                    <div class="type">weight</div>
                </div>
                <div class="info">
                    <div class="value">4.7</div>
                    <div class="type">rating</div>
                </div>
            </div>
            <div class="selector" alt="Open Popup" id="popupTrigger">
                <button>go with this!</button>
            </div>

        </div>

        <div class="card">
            <div class="card-image">
                <img src="../images/meerkat.png" alt="Character">
            </div>

            <div class="card-body">
                <span class="power">Brilliant Power</span>
                <h2>Meerkat</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Error laudantium sequi facere mollitia
                    saepe.
                </p>
            </div>

            <div class="card-footer">
                <div class="info">
                    <div class="value">2.0 m</div>
                    <div class="type">height</div>
                </div>
                <div class="info">
                    <div class="value">22 kg</div>
                    <div class="type">weight</div>
                </div>
                <div class="info">
                    <div class="value">4.5</div>
                    <div class="type">rating</div>
                </div>
            </div>
            <div class="selector" alt="Open Popup" id="popupTrigger">
                <button>go with this!</button>
            </div>

        </div>
        <div class="popup-card" id="popup-battle">
            <div class="battle-container">
                <div class="battle-scene">
                    <div class="enemy">
                        <div class="info">
                            <p><strong>CEO</strong></p>
                            <p>L.<strong>100</strong></p>
                            <div class="health-bar">
                                <div class="health" style="width: 100%;"></div>
                            </div>
                        </div>
                        <img src="../images/turtle.png" id="transition" alt="Enemy Pokémon" width="150">
                    </div>
                    <div class="ally">
                        <img src="../images/ferret.png" alt="Your Pokémon" width="150" id="allyImage">
                        <div class="info">
                            <p id="popupAllyName"><strong>Ferret</strong></p>
                            <p>L.<strong>5</strong></p>
                            <div class="health-bar" id="allyHealthBar">
                                <div class="health" style="width: 75%;"></div>
                            </div>
                            <div id="healthPercentageDisplay"> </div>
                        </div>
                    </div>
                </div>
                <div class="controls-container">
                    <button id="fight">FIGHT</button>
                    <button id="bag">BAG</button>
                    <button>OTHER</button>
                    <button id="run">RUN</button>
                </div>
                <div class="border-corner"></div>
                <script>
                    function handleGoWithThis(button) {

                        const pokemon = document.getElementById('transition');
                        setTimeout(() => {
                            pokemon.style.opacity = '1'; // Fade in effect
                            pokemon.style.transform = 'scale(1.5)';
                            setTimeout(() => {
                                pokemon.style.transform = 'scale(1)'; // Scale back to original size
                            }, 1000); // Adjust timing as needed
                        }, 1000); // Adjust timing as needed

                        // Update the width of the health bar dynamically
                        var healthPercentage = 75; // Set the health percentage here
                        var healthColor = '#4caf50'; // Set the health color here
                        var allyHealthBar = document.getElementById('allyHealthBar');
                        var healthElement = allyHealthBar.querySelector('.health');
                        healthElement.style.width = healthPercentage + '%';
                        healthElement.style.backgroundColor = healthColor;

                        // Find the parent card of the clicked button
                        var card = button.closest('.card');

                        // Retrieve information from the card
                        var characterName = card.querySelector('.card-body h2').textContent;
                        var characterImage = card.querySelector('.card-image img').src;

                        // Update the popup card battle with the retrieved information
                        var popupCard = document.getElementById('popup-battle');
                        popupCard.querySelector('.ally img').src = characterImage;
                        popupCard.querySelector('#popupAllyName').textContent = characterName;

                        // Show the popup card battle
                        popupCard.style.display = 'block';
                    }

                    // Attach click event listeners to all "go with this!" buttons
                    var goWithThisButtons = document.querySelectorAll('.selector button');
                    goWithThisButtons.forEach(function (button) {
                        button.addEventListener('click', function () {
                            handleGoWithThis(button);
                        });
                    });

                    document.getElementById('run').addEventListener('click', function () {

                        var popupCard = document.getElementById('popup-battle');
                        popupCard.style.display = 'none';
                    });

                    function getRandomNumber(min, max) {
                        return Math.floor(Math.random() * (max - min + 1)) + min;
                    }


                    document.getElementById('fight').addEventListener('click', function () {
                        // Update the width of the health bar dynamically
                        var healthPercentage = getRandomNumber(5, 15); // Set the health percentage here
                        // Set the health color here
                        var healthPercentageDisplay = document.getElementById('healthPercentageDisplay');

                        var allyHealthBar = document.getElementById('allyHealthBar');
                        var healthElement = allyHealthBar.querySelector('.health');
                        var currentWidth = parseFloat(healthElement.style.width) || 0; // Get current width, default to 0 if NaN
                        var newWidth = currentWidth - healthPercentage; // Add healthPercentage to current width
                        if (newWidth > 25 && newWidth < 45) {
                            var healthColor = 'orange'
                        }
                        if (newWidth < 25) { var healthColor = 'red' }

                        toggleTrembleEffect('allyImage');
                        healthElement.style.width = newWidth + '%'; // Set the new width
                        healthElement.style.backgroundColor = healthColor;
                    });

                    document.getElementById('bag').addEventListener('click', function () {
                        // Update the width of the health bar dynamically
                        var healthPercentage = 10; // Set the health percentage here

                        var allyHealthBar = document.getElementById('allyHealthBar');
                        var healthElement = allyHealthBar.querySelector('.health');
                        var currentWidth = parseFloat(healthElement.style.width) || 0; // Get current width, default to 0 if NaN
                        var newWidth = currentWidth + healthPercentage; // Add healthPercentage to current width
                        var healthColor = '#4caf50'; // Set the health color here
                        if (newWidth > 25 && newWidth < 45) {
                            var healthColor = 'orange'
                        }
                        if (newWidth < 25) { var healthColor = 'red' }
                        healthElement.style.backgroundColor = healthColor;
                        if (newWidth < 100) { healthElement.style.width = newWidth + '%' } // Set the new width to 100
                        else {
                            healthElement.style.width = 100 + '%'
                        }

                    });

                    function toggleTrembleEffect(imageId) {
                        const imageElement = document.getElementById(imageId);
                        imageElement.classList.add('tremble-effect');

                        // Set the duration of the tremble effect here (in milliseconds)
                        setTimeout(() => {
                            imageElement.classList.remove('tremble-effect');
                        }, 1000); // This will apply the effect for 1 second
                    }



                </script>
            </div>
        </div>

    </div>


</body>
<footer class="footer">
    &copy; 2024 DPMS Universe. All rights reserved
</footer>

</html>